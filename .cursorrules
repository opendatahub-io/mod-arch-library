# PatternFly Design Token Usage Rules

## Critical: Value Priority Order

When adding ANY styling override, follow this strict priority order:

1. **FIRST**: Check if a PF global token (`--pf-t--global--*`) exists
   - Look in `pf-tokens-SSOT.json` or PatternFly documentation
   - If found → Map it to a MUI variable at `.mui-theme:root` (affects ALL components)

2. **SECOND**: Check if a PF component variable (`--pf-v6-c-{component}--*`) exists
   - Inspect the DOM element or check PatternFly component documentation
   - If found → Map it to a MUI variable in the component section

3. **THIRD**: Determine the MUI value to use
   - **Option A**: Check `MUI-default-theme-object.json` for the equivalent value
     - If it's a standard theme property → **Use auto-available MUI variable** (from `<MUIThemeProvider>`)
     - If it's computed/custom → **Define a custom MUI variable** in SCSS
   - **Option B**: Inspect the DOM to see what MUI uses for this component
   - Map the MUI variable to the PF variable you identified in steps 1 or 2

4. **LAST RESORT**: Use hardcoded CSS (only when no PF variable exists)
   - Example: layout properties like `position`, `display`, etc.

**Key Principle**: Find the PF variable first, then determine the MUI value to map to it!

## Design Token Reference

When working with styling (CSS, SCSS, or JavaScript/TypeScript theming), reference these files:

- **MUI Theme Values**: `mod-arch-kubeflow/style/MUI-default-theme-object.json` - CHECK THIS FIRST for all values
- **PF Design Tokens**: `mod-arch-kubeflow/style/pf-tokens-SSOT.json` - Single Source of Truth (SSOT) for all PatternFly v6 design tokens
- **Token Values**: https://www.patternfly.org/tokens/all-patternfly-tokens/ - Official PatternFly documentation showing computed values for all tokens

## Project-Specific Pattern: MUI-theme.scss Architecture

This project follows a specific pattern for styling PatternFly components to match Material UI design:

### Architecture Overview
```scss
// 1. Define MUI design values as custom variables (top of file)
.mui-theme:root {
  --mui-button-FontWeight: 500;
  --mui-button--PaddingBlockStart: 6px;
  --mui-spacing-8px: var(--mui-spacing);
  
  // 2. Override PF global tokens with MUI equivalents (affects ALL components)
  --pf-t--global--border--width--regular: 1px;
  --pf-t--global--color--brand--default: var(--mui-palette-primary-main);
  --pf-t--global--text--color--brand--default: var(--mui-palette-primary-main);
}

// 3. Only override component variables when they need different values from globals
.mui-theme .pf-v6-c-button {
  --pf-v6-c-button--FontWeight: var(--mui-button-FontWeight);
  --pf-v6-c-button--PaddingBlockStart: var(--mui-button--PaddingBlockStart);
}
```

### Hierarchy of Variable Usage (Priority Order)

**MOST EFFICIENT: Override PF global tokens at :root (affects all components automatically)**

**ALWAYS check MUI-default-theme-object.json FIRST for values!**

1. **First Priority: Override PF Global Tokens at :root**
   ```scss
   .mui-theme:root {
     // Step 1: Use auto-available MUI variables from ThemeProvider
     // (These already exist from <MUIThemeProvider> - don't redefine)
     --pf-t--global--color--brand--default: var(--mui-palette-primary-main);
     --pf-t--global--border--color--default: var(--mui-palette-divider);

     // Step 2: Only define custom MUI variables when needed
     --mui-custom-spacing: 6px; // Custom: computed value not in theme
     --pf-t--global--border--width--regular: var(--mui-custom-spacing);
   }
   ```
   **Why**: One override affects all components. Scalable and efficient.
   **Value Source**:
   - Auto-available: ThemeProvider → MUI variable (already exists) → PF global token
   - Custom: Define MUI variable → PF global token

2. **Second Priority: Use PF Component Variables (only when different from global)**
   ```scss
   // At top of file - only define custom MUI variables
   .mui-theme:root {
     --mui-button--PaddingBlockStart: 6px; // Custom: computed from spacing
     --mui-button--PaddingInlineStart: 16px; // Custom: computed from spacing
   }

   // In component section - use both auto-available and custom MUI variables
   .mui-theme .pf-v6-c-button {
     // Use auto-available MUI variable (don't define it)
     --pf-v6-c-button--FontWeight: var(--mui-typography-fontWeightMedium);

     // Use custom MUI variable (defined above)
     --pf-v6-c-button--PaddingBlockStart: var(--mui-button--PaddingBlockStart);
   }
   ```
   **Why**: Component-specific overrides when global tokens aren't appropriate.
   **Value Source**:
   - Auto-available MUI variables from ThemeProvider (use directly)
   - Custom MUI variables (define only when needed)

3. **Third Priority: Direct CSS (only when no PF token/variable exists)**
   ```scss
   .mui-theme .pf-v6-c-form {
     position: relative; // No PF variable for this
     letter-spacing: 0.02857em; // MUI-specific, no PF equivalent
   }
   ```
   **Why**: Layout/positioning properties or MUI-specific properties without PF equivalents.
   **Value Source**: Hardcoded (only when necessary)

### Critical Rules

❌ **DON'T** use direct CSS properties when PF variables exist:
```scss
.mui-theme .pf-v6-c-button {
  padding: 6px 16px; // ❌ BAD
  border: none;      // ❌ BAD
  inset: 0px;        // ❌ BAD
}
```

✅ **DO** use PF component variables or tokens:
```scss
.mui-theme .pf-v6-c-button {
  --pf-v6-c-button--PaddingBlockStart: var(--mui-button--PaddingBlockStart);
  --pf-v6-c-button--PaddingBlockEnd: var(--mui-button--PaddingBlockEnd);
}

.mui-theme .pf-v6-c-text-input-group::before {
  border: none; // ✅ OK - no PF variable exists for ::before border
}
```

❌ **DON'T** forget `.mui-theme` scope:
```scss
.pf-v6-c-button {
  --pf-v6-c-button--FontWeight: 500; // ❌ BAD - not scoped
}
```

✅ **DO** always scope to `.mui-theme`:
```scss
.mui-theme .pf-v6-c-button {
  --pf-v6-c-button--FontWeight: var(--mui-button-FontWeight); // ✅ GOOD
}
```

### 2. Token Categories Available in pf-tokens-SSOT.json
- **Colors**: `--pf-t--global--color--*`
- **Spacing**: `--pf-t--global--spacer--*`
- **Typography**: `--pf-t--global--font--*`
- **Borders**: `--pf-t--global--border--*`
- **Shadows**: `--pf-t--global--box-shadow--*`
- **Z-index**: `--pf-t--global--z-index--*`
- **Motion**: `--pf-t--global--motion--*`
- **Component-specific**: `--pf-v6-c-{component}--*`

### 3. PatternFly Variable Naming Patterns

#### PF Component Variables (Use These First!)
```scss
// Pattern: --pf-v6-c-{component}--{property}--{modifier}
--pf-v6-c-button--FontWeight
--pf-v6-c-button--PaddingBlockStart
--pf-v6-c-button--hover--BackgroundColor
--pf-v6-c-alert--PaddingInlineStart
--pf-v6-c-menu-toggle--expanded--Color
```

#### PF Global Tokens (Use When Component Variables Don't Exist)
```scss
/* Brand colors */
--pf-t--global--color--brand--default
--pf-t--global--color--brand--hover
--pf-t--global--color--brand--clicked

/* Status colors */
--pf-t--global--color--status--danger--default
--pf-t--global--color--status--warning--default
--pf-t--global--color--status--success--default

/* Text colors */
--pf-t--global--text--color--regular
--pf-t--global--text--color--subtle
--pf-t--global--text--color--disabled
--pf-t--global--text--color--on-brand--default

/* Background colors */
--pf-t--global--background--color--primary--default
--pf-t--global--background--color--secondary--default
--pf-t--global--background--color--action--hover
```

#### Spacing
```css
/* Spacing scale (xs to 4xl) */
--pf-t--global--spacer--xs     /* 4px */
--pf-t--global--spacer--sm     /* 8px */
--pf-t--global--spacer--md     /* 16px */
--pf-t--global--spacer--lg     /* 24px */
--pf-t--global--spacer--xl     /* 32px */
--pf-t--global--spacer--2xl
--pf-t--global--spacer--3xl
--pf-t--global--spacer--4xl
```

#### Borders
```css
--pf-t--global--border--width--regular
--pf-t--global--border--width--strong
--pf-t--global--border--color--default
--pf-t--global--border--color--hover
--pf-t--global--border--color--clicked
--pf-t--global--border--radius--small
--pf-t--global--border--radius--medium
--pf-t--global--border--radius--large
```

#### Typography
```css
--pf-t--global--font--family--body
--pf-t--global--font--family--heading
--pf-t--global--font--size--body--default
--pf-t--global--font--size--body--sm
--pf-t--global--font--size--body--lg
--pf-t--global--font--weight--body--default
--pf-t--global--font--weight--body--bold
--pf-t--global--font--weight--heading--default
```

## MUI Theme Object Integration

When creating Material UI themes that need to match PatternFly design system:

### ✅ DO: Use PF tokens in MUI theme objects
```typescript
import { createTheme } from '@mui/material/styles';

const theme = createTheme({
  palette: {
    primary: {
      main: 'var(--pf-t--global--color--brand--default)',
      light: 'var(--pf-t--global--color--brand--hover)',
      dark: 'var(--pf-t--global--color--brand--clicked)',
      contrastText: 'var(--pf-t--global--text--color--on-brand--default)',
    },
    text: {
      primary: 'var(--pf-t--global--text--color--regular)',
      secondary: 'var(--pf-t--global--text--color--subtle)',
      disabled: 'var(--pf-t--global--text--color--disabled)',
    },
    background: {
      default: 'var(--pf-t--global--background--color--primary--default)',
      paper: 'var(--pf-t--global--background--color--secondary--default)',
    },
  },
  spacing: 8, // PF base spacing unit - use number for theme.spacing() function
  components: {
    MuiButton: {
      styleOverrides: {
        root: ({ theme }) => ({
          fontWeight: 'var(--pf-t--global--font--weight--body--bold)',
          padding: theme.spacing(1, 2),
          borderRadius: 'var(--pf-t--global--border--radius--medium)',
        }),
        outlined: {
          borderWidth: 'var(--pf-t--global--border--width--regular)',
          borderColor: 'var(--pf-t--global--border--color--default)',
        },
      },
    },
  },
});
```

### Important MUI + PF Token Guidelines:
1. **Palette colors**: Use PF tokens to maintain consistency and support theme switching
2. **Spacing base unit**: Use hardcoded number (8) for `theme.spacing()` function to work
3. **Component overrides**: Prefer PF tokens for all visual properties
4. **Interactive states**: Always use PF token variants (hover, clicked, etc.)

## Using the MUI Theme Viewer for Value Reference

**File**: `mod-arch-kubeflow/style/MUI-default-theme-object.json` (Reference file)

This file contains the complete MUI default theme configuration in JSON format. Use it as a reference when creating MUI custom variables.

**To regenerate after MUI upgrades**: Run `npm run generate-mui-theme` in the `mod-arch-kubeflow` directory

**Methods to find MUI values**:

1. **JSON Reference File**: Check `MUI-default-theme-object.json`
2. **Browser Console**: `console.log(theme)` in dev mode
3. **MUI Documentation**: <https://mui.com/material-ui/customization/default-theme/>
4. **React DevTools**: Inspect ThemeProvider context
5. **DOM Inspection**: Inspect MUI components to see computed CSS variable values

### Decision Process for Overrides

```text
Need to style a component?
│
├─ Step 1: Identify the PF variable to override
│  │        Check pf-tokens-SSOT.json or inspect DOM
│  │
│  ├─ Found global token (--pf-t--global--*)?
│  │  └─ Use this! (affects all components)
│  │
│  └─ Found component variable (--pf-v6-c-{component}--*)?
│     └─ Use this (component-specific)
│
├─ Step 2: Find the MUI equivalent value
│  │        Check MUI-default-theme-object.json OR inspect MUI component in DOM
│  │
│  ├─ Is it a standard MUI theme property?
│  │  └─ YES → Use auto-available variable (from ThemeProvider)
│  │     Example: var(--mui-palette-primary-main)
│  │     .mui-theme:root {
│  │       --pf-t--global--color--brand--default: var(--mui-palette-primary-main);
│  │     }
│  │
│  └─ Is it a custom/computed value?
│     └─ YES → Define custom MUI variable first
│        Example: Button padding from inspecting MUI button
│        .mui-theme:root {
│          --mui-button--PaddingBlockStart: 6px; // Custom: spacing(0.75)
│        }
│        .mui-theme .pf-v6-c-button {
│          --pf-v6-c-button--PaddingBlockStart: var(--mui-button--PaddingBlockStart);
│        }
│
└─ Step 3: No PF variable exists?
   Use direct CSS as last resort
   .mui-theme .pf-v6-c-component {
     position: relative; // No PF variable exists
   }
```

### MUI Variables Available from ThemeProvider

**IMPORTANT**: Most MUI variables are **automatically available** via `<MUIThemeProvider theme={createMUITheme}>` and **DO NOT** need to be defined in SCSS.

#### Variables Already Available (DO NOT redefine these)

These are injected by the MUI ThemeProvider and can be referenced directly:

```scss
// ✅ CORRECT - Use directly without defining
.mui-theme .pf-v6-c-card {
  --pf-v6-c-card--BorderColor: var(--mui-palette-divider); // Already exists!
  --pf-v6-c-card--BackgroundColor: var(--mui-palette-background-paper); // Already exists!
}

// ❌ WRONG - Don't redefine these in SCSS
.mui-theme:root {
  --mui-palette-divider: rgba(0, 0, 0, 0.12); // ❌ Already from ThemeProvider!
  --mui-palette-background-paper: #fff;       // ❌ Already from ThemeProvider!
}
```

**Available MUI variables from ThemeProvider**:

- `--mui-palette-*` (all palette colors: primary, secondary, error, text, grey, etc.)
- `--mui-typography-*` (font families, weights, sizes)
- `--mui-spacing-*` (spacing multipliers)
- `--mui-shape-*` (border radius, etc.)
- `--mui-shadows-*` (elevation shadows)

#### When to Define Custom MUI Variables

**ONLY** define custom `--mui-*` variables when:

1. The value doesn't exist in the MUI theme
2. You need a computed/derived value
3. You need a component-specific customization

```scss
.mui-theme:root {
  // ✅ Custom computed values (not in MUI theme)
  --mui-button--PaddingBlockStart: 6px;  // spacing(0.75) - custom computation
  --mui-button--PaddingInlineStart: 16px; // spacing(2) - custom computation

  // ✅ Component-specific customizations (not in default theme)
  --mui-card--BorderWidth: 1px; // Custom: card border width not in theme
  --mui-form--LabelColor: rgba(0, 0, 0, 0.6); // Custom: specific label color
}
```

### Best Practice Workflow

1. **Open `MUI-default-theme-object.json`** to check what values exist
2. **Determine if the variable already exists from ThemeProvider**:
   - If it's a standard MUI theme value (palette, typography, spacing, shape, shadows) → **Use directly, don't define**
   - If it's a custom/computed value → **Define in SCSS**
3. **Use the MUI variable** (either existing or custom) in your PF overrides

**Example - Using existing MUI variables**:

```scss
// ✅ CORRECT - These variables already exist from ThemeProvider
.mui-theme .pf-v6-c-card {
  --pf-v6-c-card--BorderColor: var(--mui-palette-divider);
  --pf-v6-c-card--BackgroundColor: var(--mui-palette-background-paper);
  --pf-v6-c-card--Color: var(--mui-palette-text-primary);
}
```

**Example - Defining custom MUI variables**:

```scss
// ✅ CORRECT - Custom values not in MUI theme
.mui-theme:root {
  --mui-button--PaddingBlockStart: 6px;  // spacing(0.75) - computed
  --mui-card--BorderWidth: 1px;         // Custom value
}

.mui-theme .pf-v6-c-button {
  --pf-v6-c-button--PaddingBlockStart: var(--mui-button--PaddingBlockStart);
}
```

### Complete Example - Styling a Form Control Component

This example shows the complete workflow from checking the theme viewer to applying overrides:

```scss
// STEP 1: Check MUI-default-theme-object.json
// Found these values exist in the theme:
//   palette.text.primary: "rgba(0, 0, 0, 0.87)"      → --mui-palette-text-primary (auto-available)
//   palette.text.disabled: "rgba(0, 0, 0, 0.38)"     → --mui-palette-text-disabled (auto-available)
//   palette.divider: "rgba(0, 0, 0, 0.12)"           → --mui-palette-divider (auto-available)
//   typography.body1.fontSize: "1rem"                → --mui-typography-body1-fontSize (auto-available)
//   shape.borderRadius: 4                            → --mui-shape-borderRadius (auto-available)

// STEP 2: Only define CUSTOM MUI variables (computed/non-standard values)
.mui-theme:root {
  // ✅ Custom computed padding (not in default theme)
  --mui-form-control--PaddingBlockStart: 8px;  // Custom: computed from spacing
  --mui-form-control--PaddingInlineStart: 12px; // Custom: computed from spacing

  // STEP 3: Check if PF global tokens exist and override them
  // These affect ALL components - most efficient!
  // Use the auto-available MUI variables directly (don't redefine them)
  --pf-t--global--text--color--regular: var(--mui-palette-text-primary);
  --pf-t--global--border--color--default: var(--mui-palette-divider);
  --pf-t--global--border--radius--medium: var(--mui-shape-borderRadius);
}

// STEP 4: Only override component variables when needed
.mui-theme .pf-v6-c-form-control {
  // Use auto-available MUI variables directly
  --pf-v6-c-form-control--FontSize: var(--mui-typography-body1-fontSize);
  --pf-v6-c-form-control--Color: var(--mui-palette-text-primary);

  // Use custom MUI variables for non-standard values
  --pf-v6-c-form-control--PaddingBlockStart: var(--mui-form-control--PaddingBlockStart);

  // Placeholder uses auto-available MUI variable
  &::placeholder {
    --pf-v6-c-form-control--m-placeholder--Color: var(--mui-palette-text-disabled);
  }

  // STEP 5: Only use hardcoded values as last resort
  &:disabled {
    cursor: not-allowed; // No PF variable for cursor
  }
}
```

### Key Takeaways from Example

1. **Check MUI-default-theme-object.json** - Understand what values exist in the theme
2. **Use auto-available MUI variables** - Most MUI theme values are already available from `<MUIThemeProvider>`
3. **Only define custom MUI variables** - For computed/derived values not in the default theme
4. **Check for PF global tokens** - Override these first with MUI variables (affects all components)
5. **Use component variables** - When component needs different value from global
6. **Hardcode only when necessary** - Document why with a comment

### Finding Component-Scoped PF Variables

When you need to override a component-specific property:

1. **Check PatternFly documentation** or inspect the component in browser DevTools
2. **Look for the pattern**: `--pf-v6-c-{component}--{property}--{modifier}`
   - Example: `--pf-v6-c-form-control--FontSize`
   - Example: `--pf-v6-c-form-control--m-placeholder--Color`
   - Example: `--pf-v6-c-button--hover--BackgroundColor`

3. **Common component variable patterns**:

   ```scss
   // Basic property
   --pf-v6-c-{component}--{Property}

   // With modifier
   --pf-v6-c-{component}--m-{modifier}--{Property}

   // With state
   --pf-v6-c-{component}--{state}--{Property}

   // With element
   --pf-v6-c-{component}__{element}--{Property}
   ```

4. **Set the value to a MUI variable**:

   ```scss
   // ✅ Use auto-available MUI variables (don't define)
   .mui-theme .pf-v6-c-button {
     --pf-v6-c-button--BackgroundColor: var(--mui-palette-primary-main); // Auto-available!
   }

   // ✅ Or define custom MUI variables when needed
   .mui-theme:root {
     --mui-button--custom-padding: 6px; // Custom: not in default theme
   }

   .mui-theme .pf-v6-c-button {
     --pf-v6-c-button--PaddingBlockStart: var(--mui-button--custom-padding);
   }
   ```

### Quick Reference - Auto-Available vs Custom MUI Variables

#### Auto-Available (DON'T define these - use directly)

From `<MUIThemeProvider theme={createMUITheme}>`:

- `--mui-palette-primary-*` (main, light, dark, contrastText)
- `--mui-palette-secondary-*`
- `--mui-palette-error-*`, `--mui-palette-warning-*`, `--mui-palette-info-*`, `--mui-palette-success-*`
- `--mui-palette-text-*` (primary, secondary, disabled)
- `--mui-palette-background-*` (default, paper)
- `--mui-palette-grey-*` (50, 100, 200...900, A100, A200, A400, A700)
- `--mui-palette-divider`
- `--mui-typography-fontFamily`
- `--mui-typography-fontWeight*` (Light, Regular, Medium, Bold)
- `--mui-shape-borderRadius`
- `--mui-spacing-*`
- All other standard MUI theme properties

#### Custom Variables (ONLY define these when needed)

Define in `.mui-theme:root` when:

- **Computed values**: `--mui-button--PaddingBlockStart: 6px; // spacing(0.75)`
- **Component-specific**: `--mui-card--BorderWidth: 1px;`
- **Non-standard values**: `--mui-form--LabelColor: rgba(0, 0, 0, 0.6);`

## SCSS/CSS Guidelines

### ✅ DO: Override PF Global Tokens at :root (MOST EFFICIENT)
```scss
// BEST: Override global tokens once - affects ALL components automatically
.mui-theme:root {
  // MUI custom values
  --mui-button-FontWeight: 500;
  --mui-button--PaddingBlockStart: 6px;
  
  // Override PF global tokens with MUI equivalents
  --pf-t--global--border--width--regular: 1px;
  --pf-t--global--color--brand--default: var(--mui-palette-primary-main);
  --pf-t--global--text--color--brand--default: var(--mui-palette-primary-main);
  // Now ALL components using these tokens get MUI values automatically!
}
```

### ✅ DO: Use PF Component Variables (Only When Different from Global)
```scss
// Only override component variables when they need different values
.mui-theme .pf-v6-c-button {
  // Button needs custom font weight (different from global)
  --pf-v6-c-button--FontWeight: var(--mui-button-FontWeight);
  --pf-v6-c-button--PaddingBlockStart: var(--mui-button--PaddingBlockStart);
  
  &:hover {
    // Use global token for hover (works for all components)
    --pf-v6-c-button--BackgroundColor: var(--pf-t--global--color--brand--hover);
  }
}
```

### ✅ DO: Reference PF Global Tokens Directly (When Already Set Correctly)
```scss
// If global token is already set correctly at :root, just reference it
.mui-theme .pf-v6-c-brand {
  padding: var(--pf-t--global--spacer--md);
}
```

### ❌ DON'T: Use Direct CSS When PF Variables Exist
```scss
// BAD - direct padding values
.mui-theme .pf-v6-c-button {
  padding: 6px 16px; // ❌
}

// GOOD - use PF component variables
.mui-theme .pf-v6-c-button {
  --pf-v6-c-button--PaddingBlockStart: var(--mui-button--PaddingBlockStart); // ✅
  --pf-v6-c-button--PaddingBlockEnd: var(--mui-button--PaddingBlockEnd); // ✅
  --pf-v6-c-button--PaddingInlineStart: var(--mui-button--PaddingInlineStart); // ✅
  --pf-v6-c-button--PaddingInlineEnd: var(--mui-button--PaddingInlineEnd); // ✅
}
```

## When to Reference pf-tokens-SSOT.json

### Always check the token file when:
1. Adding new colors to any component
2. Setting spacing/padding/margin values
3. Defining border styles or radius
4. Implementing hover/active/focus states
5. Setting typography properties (font-family, font-weight, font-size)
6. Using shadows or elevation
7. Setting z-index values
8. Implementing transitions/animations

### How to find the right token:
1. Search `pf-tokens-SSOT.json` for relevant keywords (e.g., "brand", "danger", "spacer", "border")
2. Check computed values at https://www.patternfly.org/tokens/all-patternfly-tokens/ (the JSON contains references, the docs show actual values)
3. Prefer global tokens (`--pf-t--global--*`) over component-specific tokens when possible
4. Use semantic tokens (e.g., `--pf-t--global--color--status--danger--default`) rather than raw color values
5. Follow the token naming convention to find variants (default, hover, clicked)

## Benefits of Using Design Tokens

1. **Consistency**: All components use the same design values
2. **Theme switching**: Automatic support for dark mode, high contrast, etc.
3. **Maintainability**: Update tokens in one place, changes propagate everywhere
4. **Accessibility**: Semantic tokens ensure proper contrast ratios
5. **Design system alignment**: Stay synchronized with PatternFly updates

## Reference Documentation

- **Local token file**: `mod-arch-kubeflow/style/pf-tokens-SSOT.json` (token names and references)
- **Token computed values**: https://www.patternfly.org/tokens/all-patternfly-tokens/ (actual values for all PF tokens)
- **MUI theming reference**: `mod-arch-kubeflow/style/MUI-theme.scss` (shows PF-to-MUI mappings)
- **MUI customization**: https://mui.com/material-ui/customization/theming/

## Code Review Checklist

Before submitting styling changes, verify:
- [ ] No hardcoded color values (use PF color tokens)
- [ ] No hardcoded spacing values (use PF spacer tokens or theme.spacing())
- [ ] Border styles use PF border tokens
- [ ] Interactive states (hover, active, focus) use appropriate token variants
- [ ] Typography uses PF font tokens
- [ ] Shadows use PF box-shadow tokens
- [ ] All tokens referenced exist in `pf-tokens-SSOT.json`

## Example: Converting Hardcoded Styles to Follow MUI-theme Pattern

### Before (❌ Bad - Direct CSS):
```scss
.mui-theme .pf-v6-c-card {
  background: #fff;
  border: 1px solid #d2d2d2;
  border-radius: 3px;
  padding: 16px;
}

.mui-theme .pf-v6-c-card:hover {
  border-color: #000;
}
```

### After (✅ Good - PF Component Variables):
```scss
// Step 1: Define MUI values at top of file (if needed)
.mui-theme:root {
  --mui-card--BorderWidth: 1px;
  --mui-shape-borderRadius: 4px;
}

// Step 2: Use PF component variables, mapped to MUI or PF tokens
.mui-theme .pf-v6-c-card {
  --pf-v6-c-card--BackgroundColor: var(--mui-palette-background-paper);
  --pf-v6-c-card--BorderWidth: var(--mui-card--BorderWidth);
  --pf-v6-c-card--BorderColor: var(--mui-palette-divider);
  --pf-v6-c-card--BorderRadius: var(--mui-shape-borderRadius);
  --pf-v6-c-card--PaddingBlockStart: var(--pf-t--global--spacer--md);
  --pf-v6-c-card--PaddingBlockEnd: var(--pf-t--global--spacer--md);
}

.mui-theme .pf-v6-c-card:hover {
  --pf-v6-c-card--BorderColor: var(--mui-palette-grey-300);
}
```

### Real Example from MUI-theme.scss:
```scss
// From lines 165-173 of MUI-theme.scss
.mui-theme .pf-v6-c-button {
  --pf-v6-c-button--FontWeight: var(--mui-button-FontWeight);
  --pf-v6-c-button--PaddingBlockStart: var(--mui-button--PaddingBlockStart);
  --pf-v6-c-button--PaddingBlockEnd: var(--mui-button--PaddingBlockEnd);
  --pf-v6-c-button--PaddingInlineStart: var(--mui-button--PaddingInlineStart);
  --pf-v6-c-button--PaddingInlineEnd: var(--mui-button--PaddingInlineEnd);
  --pf-v6-c-button--LineHeight: var(--mui-button--LineHeight);
  letter-spacing: 0.02857em; // No PF variable exists for this
}
```

---

## When Direct CSS Properties Are Acceptable

Only use direct CSS properties (not variables) in these cases:

### ✅ Acceptable Use Cases:
1. **Properties with no PF variable equivalent**
   ```scss
   .mui-theme .pf-v6-c-form__group {
     position: relative; // No --pf-v6-c-form__group--Position exists
   }
   ```

2. **Pseudo-elements without PF variable support**
   ```scss
   .mui-theme .pf-v6-c-text-input-group::before {
     border: none; // No PF variable for ::before border
   }
   ```

3. **Layout properties (display, flex, grid)**
   ```scss
   .mui-theme .pf-v6-c-page__sidebar {
     display: flex;
     flex-direction: column;
   }
   ```

4. **Descriptive properties (letter-spacing, text-transform, etc.)**
   ```scss
   .mui-theme .pf-v6-c-button {
     letter-spacing: 0.02857em; // MUI-specific, no PF equivalent
     text-transform: none;
   }
   ```

5. **Selector-specific resets**
   ```scss
   .form-fieldset-wrapper:hover .form-fieldset {
     border-color: var(--mui-palette-common-black); // ✅ Specific hover behavior
   }
   ```

### ❌ Unacceptable Use Cases:
- ❌ Padding/margin when `--pf-v6-c-*--Padding*` variables exist
- ❌ Colors when PF tokens or variables exist
- ❌ Border width/radius when PF variables exist
- ❌ Font properties when PF variables exist
- ❌ Any property where a PF component variable exists

---

## Quick Decision Tree for Adding Overrides

```text
Need to add styling/override for a component?
│
├─ Step 1: Check if PF global token exists (--pf-t--global--*)
│  │        Look in pf-tokens-SSOT.json or PF docs
│  │
│  └─ YES → Find MUI equivalent value
│     │     • Check MUI-default-theme-object.json OR inspect DOM
│     │     • Is it standard theme property? Use auto-available var
│     │     • Is it custom/computed? Define custom MUI var
│     │
│     │     .mui-theme:root {
│     │       // Option A: Use auto-available MUI variable
│     │       --pf-t--global--color--brand--default: var(--mui-palette-primary-main);
│     │
│     │       // Option B: Define custom MUI variable first
│     │       --mui-custom-spacing: 6px; // Custom: spacing(0.75)
│     │       --pf-t--global--spacer--sm: var(--mui-custom-spacing);
│     │     }
│     └─ This affects ALL components - MOST EFFICIENT!
│  └─ NO  → Continue to Step 2 ↓
│
├─ Step 2: Check if PF component variable exists (--pf-v6-c-{component}--*)
│  │        Inspect DOM element or check PF component docs
│  │
│  └─ YES → Find MUI equivalent value
│     │     • Check MUI-default-theme-object.json OR inspect DOM
│     │     • Is it standard theme property? Use auto-available var
│     │     • Is it custom/computed? Define custom MUI var at :root
│     │
│     │     // If custom MUI variable needed:
│     │     .mui-theme:root {
│     │       --mui-button--PaddingBlockStart: 6px; // Custom: spacing(0.75)
│     │     }
│     │
│     │     // Map to PF component variable:
│     │     .mui-theme .pf-v6-c-button {
│     │       // Option A: Use auto-available MUI variable
│     │       --pf-v6-c-button--Color: var(--mui-palette-primary-main);
│     │
│     │       // Option B: Use custom MUI variable
│     │       --pf-v6-c-button--PaddingBlockStart: var(--mui-button--PaddingBlockStart);
│     │     }
│  └─ NO  → Continue to Step 3 ↓
│
├─ Step 3: Is it a layout/positioning/descriptive property?
│  └─ YES → Direct CSS is acceptable (document with comment)
│     │     .mui-theme .pf-v6-c-form {
│     │       position: relative; // No PF variable exists
│     │     }
│  └─ NO  → Continue to Step 4 ↓
│
└─ Step 4: Last resort - hardcoded value on PF variable
   Create a custom PF-like variable and document why
   .mui-theme .pf-v6-c-component {
     // Only if absolutely no PF variable exists for this property
     padding: 16px; // Direct CSS: No PF variable for this element
   }
```

### Complete Workflow Example

Here's the complete workflow from finding a PF variable to mapping the MUI value:

```scss
// SCENARIO: Need to style a button's color and padding

// Step 1: Check for PF global token (most efficient - affects all components)
// Search pf-tokens-SSOT.json for color tokens
// Found: --pf-t--global--color--brand--default

// Step 2: Determine MUI equivalent
// Check MUI-default-theme-object.json → palette.primary.main exists
// This is auto-available from ThemeProvider!

.mui-theme:root {
  // Map PF global token to auto-available MUI variable
  --pf-t--global--color--brand--default: var(--mui-palette-primary-main);
}

// Step 3: Check for PF component variable for padding
// Inspect DOM → Found: --pf-v6-c-button--PaddingBlockStart

// Step 4: Determine MUI equivalent for padding
// Check MUI-default-theme-object.json → no exact padding for buttons
// Inspect MUI button in DOM → uses spacing(0.75, 2) = 6px 16px
// This is CUSTOM - need to define it

.mui-theme:root {
  // Define custom MUI variable (not in default theme)
  --mui-button--PaddingBlockStart: 6px;  // Custom: spacing(0.75)
  --mui-button--PaddingInlineStart: 16px; // Custom: spacing(2)
}

.mui-theme .pf-v6-c-button {
  // Map PF component variable to custom MUI variable
  --pf-v6-c-button--PaddingBlockStart: var(--mui-button--PaddingBlockStart);
  --pf-v6-c-button--PaddingInlineStart: var(--mui-button--PaddingInlineStart);
}
```

### Key Principles

1. **Find PF variable first** - Check global tokens, then component variables
2. **Then find MUI value** - Check theme object or inspect DOM
3. **Use auto-available when possible** - Don't redefine standard MUI theme properties
4. **Define custom only when needed** - For computed/non-standard values

---

**Remember**: Always scope to `.mui-theme`, always prefer overriding PF global tokens at `:root` first (most efficient), then use component variables only when needed, and check both `mod-arch-kubeflow/style/pf-tokens-SSOT.json` and `MUI-theme.scss` for existing patterns before adding new styles.

---

## Summary: The Correct Workflow

When you need to add a styling override:

### 1. Find the PF Variable (PatternFly First!)
- **Global token** (`--pf-t--global--*`) → Check `pf-tokens-SSOT.json`
- **Component variable** (`--pf-v6-c-{component}--*`) → Inspect DOM or check PF docs

### 2. Find the MUI Value (After finding PF variable)
- **Check** `MUI-default-theme-object.json` for equivalent value
- **OR** inspect the MUI component in the DOM

### 3. Determine if MUI Variable is Auto-Available or Custom
- **Auto-available**: Standard theme properties (palette, typography, spacing, shape, shadows)
  - Use directly: `var(--mui-palette-primary-main)`
  - Don't redefine in SCSS
- **Custom**: Computed/derived values not in default theme
  - Define in SCSS: `--mui-button--PaddingBlockStart: 6px;`
  - Document the source

### 4. Map MUI Variable to PF Variable
```scss
.mui-theme:root {
  // Global tokens (affects all components)
  --pf-t--global--color--brand--default: var(--mui-palette-primary-main);

  // Custom MUI variables for component-specific use
  --mui-button--PaddingBlockStart: 6px; // Custom: spacing(0.75)
}

.mui-theme .pf-v6-c-button {
  // Component variables (component-specific)
  --pf-v6-c-button--PaddingBlockStart: var(--mui-button--PaddingBlockStart);
}
```

**The key**: PF variable → MUI value → Mapping (not the other way around!)

